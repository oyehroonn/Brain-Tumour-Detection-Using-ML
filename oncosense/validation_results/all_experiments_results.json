{
  "experiment_7_split": {
    "timestamp": "2026-02-23T06:47:49.637080",
    "total_images": 6597,
    "original_split_counts": {
      "original_train": 5425,
      "original_test": 1172
    },
    "our_split_counts": {
      "train": 4612,
      "test": 1359,
      "val": 626
    },
    "cross_tabulation": {
      "test": {
        "original_test": 255,
        "original_train": 1104
      },
      "train": {
        "original_test": 816,
        "original_train": 3796
      },
      "val": {
        "original_test": 101,
        "original_train": 525
      }
    },
    "contamination_analysis": {
      "original_test_in_our_train": 816,
      "original_test_total": 1172,
      "test_to_train_contamination_rate": 69.6245733788396,
      "original_train_in_our_test": 1104,
      "original_train_total": 5425,
      "train_to_test_contamination_rate": 20.350230414746544
    },
    "verdict": {
      "summary": "CRITICAL: Severe train/test contamination detected!",
      "severity": "critical",
      "explanation": "Over 70% of original test images ended up in our training set. This is a major source of data leakage and likely explains the artificially high accuracy.",
      "test_to_train_rate": 69.6245733788396,
      "train_to_test_rate": 20.350230414746544
    },
    "per_class_contamination": {
      "glioma": {
        "original_test_in_our_train": 210,
        "original_test_total": 299,
        "contamination_rate": 70.23411371237458
      },
      "meningioma": {
        "original_test_in_our_train": 169,
        "original_test_total": 246,
        "contamination_rate": 68.69918699186992
      },
      "pituitary": {
        "original_test_in_our_train": 205,
        "original_test_total": 298,
        "contamination_rate": 68.79194630872483
      },
      "no_tumor": {
        "original_test_in_our_train": 232,
        "original_test_total": 329,
        "contamination_rate": 70.51671732522796
      }
    }
  },
  "experiment_6_leakage": {
    "test_train_leaks": [
      {
        "test_filepath": "raw/no_tumor/BT-MRI NO Train (71).jpg",
        "test_label": "no_tumor",
        "train_filepath": "raw/no_tumor/BT-MRI NO Test (1).jpg",
        "train_label": "no_tumor",
        "hamming_distance": 10,
        "same_label": true
      },
      {
        "test_filepath": "raw/no_tumor/BT-MRI NO Train (1429).jpg",
        "test_label": "no_tumor",
        "train_filepath": "raw/no_tumor/BT-MRI NO Train (626).jpg",
        "train_label": "no_tumor",
        "hamming_distance": 10,
        "same_label": true
      },
      {
        "test_filepath": "raw/no_tumor/BT-MRI NO Train (864).jpg",
        "test_label": "no_tumor",
        "train_filepath": "raw/no_tumor/BT-MRI NO Test (386).jpg",
        "train_label": "no_tumor",
        "hamming_distance": 10,
        "same_label": true
      },
      {
        "test_filepath": "raw/no_tumor/BT-MRI NO Train (1495).jpg",
        "test_label": "no_tumor",
        "train_filepath": "raw/no_tumor/BT-MRI NO Train (827).jpg",
        "train_label": "no_tumor",
        "hamming_distance": 10,
        "same_label": true
      },
      {
        "test_filepath": "raw/no_tumor/BT-MRI NO Train (451).jpg",
        "test_label": "no_tumor",
        "train_filepath": "raw/no_tumor/BT-MRI NO Train (827).jpg",
        "train_label": "no_tumor",
        "hamming_distance": 8,
        "same_label": true
      },
      {
        "test_filepath": "raw/no_tumor/BT-MRI NO Train (616).jpg",
        "test_label": "no_tumor",
        "train_filepath": "raw/no_tumor/BT-MRI NO Train (827).jpg",
        "train_label": "no_tumor",
        "hamming_distance": 10,
        "same_label": true
      }
    ],
    "test_val_leaks": [],
    "val_train_leaks": [
      {
        "val_filepath": "raw/no_tumor/BT-MRI NO Train (1244).jpg",
        "train_filepath": "raw/no_tumor/BT-MRI NO Train (787).jpg",
        "hamming_distance": 10
      },
      {
        "val_filepath": "raw/no_tumor/BT-MRI NO Train (949).jpg",
        "train_filepath": "raw/no_tumor/BT-MRI NO Train (438).jpg",
        "hamming_distance": 10
      },
      {
        "val_filepath": "raw/no_tumor/BT-MRI NO Train (764).jpg",
        "train_filepath": "raw/no_tumor/BT-MRI NO Train (534).jpg",
        "hamming_distance": 10
      },
      {
        "val_filepath": "raw/no_tumor/BT-MRI NO Test (288).jpg",
        "train_filepath": "raw/no_tumor/BT-MRI NO Train (787).jpg",
        "hamming_distance": 10
      },
      {
        "val_filepath": "raw/no_tumor/BT-MRI NO Test (339).jpg",
        "train_filepath": "raw/no_tumor/BT-MRI NO Train (943).jpg",
        "hamming_distance": 10
      },
      {
        "val_filepath": "raw/no_tumor/BT-MRI NO Train (487).jpg",
        "train_filepath": "raw/no_tumor/BT-MRI NO Train (787).jpg",
        "hamming_distance": 10
      },
      {
        "val_filepath": "raw/no_tumor/BT-MRI NO Test (248).jpg",
        "train_filepath": "raw/no_tumor/BT-MRI NO Test (389).jpg",
        "hamming_distance": 10
      },
      {
        "val_filepath": "raw/no_tumor/BT-MRI NO Train (730).jpg",
        "train_filepath": "raw/no_tumor/BT-MRI NO Train (1462).jpg",
        "hamming_distance": 10
      },
      {
        "val_filepath": "raw/no_tumor/BT-MRI NO Test (127).jpg",
        "train_filepath": "raw/no_tumor/BT-MRI NO Train (943).jpg",
        "hamming_distance": 10
      }
    ],
    "stats": {
      "threshold_used": 10,
      "test_images_analyzed": 300,
      "val_images_analyzed": 626,
      "train_images": 4612,
      "test_train_leak_count": 6,
      "test_train_leak_rate": 2.0,
      "test_val_leak_count": 0,
      "test_val_leak_rate": 0.0,
      "val_train_leak_count": 9,
      "val_train_leak_rate": 1.4376996805111821,
      "same_label_leaks": 6,
      "different_label_leaks": 0
    },
    "timestamp": "2026-02-23T06:55:16.421449",
    "verdict": {
      "summary": "NOTICE: Minor near-duplicate leakage detected",
      "severity": "notice",
      "explanation": "2.0% near-duplicate leakage detected. This may slightly affect accuracy."
    }
  },
  "experiment_5_gradcam": {
    "error": "No module named 'skimage'"
  },
  "summary": {
    "timestamp": "2026-02-23T06:56:37.906619",
    "experiments_run": [
      "experiment_7_split",
      "experiment_6_leakage",
      "experiment_5_gradcam"
    ],
    "experiments_passed": [],
    "experiments_warning": [],
    "experiments_critical": [
      "experiment_7_split",
      "experiment_6_leakage"
    ],
    "experiments_skipped": [],
    "experiments_error": [
      "experiment_5_gradcam"
    ],
    "overall_verdict": "CRITICAL: Issues detected - accuracy likely inflated"
  }
}